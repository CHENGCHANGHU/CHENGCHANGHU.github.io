!function(){"use strict";class e extends HTMLElement{#e=null;#n=null;#t=null;constructor(){super(),this.#e=this.attachShadow({mode:"closed"}),this.#e.appendChild(document.getElementById("page-header").content.cloneNode(!0)),this.#n=this.#e.querySelector("#manuscript-logo-img"),this.#t=this.#e.querySelector("#manuscript-logo-text")}connectedCallback(){this.#n.addEventListener("click",this.#r),this.#t.addEventListener("click",this.#r)}#r(){this.dispatchEvent(new CustomEvent("click-logo",{bubbles:!1,cancelable:!1,composed:!0,detail:{data:new Date}}))}#o(){const e=window.location.href;console.log(e),/manuscript/.test(e)?window.location.assign("/manuscript"):window.location.assign("/")}}function n({data:e,tabChars:t="\t",tabNumber:r=0,toHTML:o=!1}={data:"",tabChars:"\t",tabNumber:0,toHTML:!1}){const a=new Array(r).fill(t).join("");switch(Object.prototype.toString.call(e)){case"[object Undefined]":return o?'<span style="color: #0000aa;">undefined</span>':"undefined";case"[object Null]":return o?'<span style="color: #0000aa;">null</span>':"null";case"[object String]":return o?`<span style="color: #aaaa00;">"${e.toString()}"</span>`:`"${e.toString()}"`;case"[object Number]":case"[object Boolean]":return o?`<span style="color: #0000aa;">${e.toString()}</span>`:e.toString();case"[object Array]":return e.length?`[\n${a}${t}${e.map((e=>n({data:e,tabChars:t,tabNumber:r+1,toHTML:o}))).join(`,\n${a}${t}`)}\n${a}]`:"[]";case"[object Object]":return Object.keys(e).length?`{\n${a}${t}${Object.keys(e).map((a=>`"${a}":${t}${n({data:e[a],tabChars:t,tabNumber:r+1,toHTML:o})}`)).join(`,\n${a}${t}`)}\n${a}}`:"{}";default:return console.log(Object.prototype.toString.call(e)),e}}document.getElementById("page-header")||(document.body.innerHTML+='<template id="page-header">\r\n  <style>\r\n    .page-header-box {\r\n      --logoSize: 36px;\r\n\r\n      position: fixed;\r\n      width: 100vw;\r\n      height: 48px;\r\n      top: 0;\r\n      display: flex;\r\n      flex-flow: row nowrap;\r\n      align-items: center;\r\n      padding: 0 8px;\r\n      font-size: 12px;\r\n      box-sizing: border-box;\r\n      z-index: 9999;\r\n      background-color: #32343d;\r\n      box-sizing: border-box;\r\n      box-shadow: 0px 2px 5px 3px rgba(0, 0, 0, 0.2);\r\n      color: #ffffff;\r\n    }\r\n\r\n    .manuscript-logo-box {\r\n      display: flex;\r\n      flex-flow: row nowrap;\r\n      align-items: center;\r\n    }\r\n\r\n    .manuscript-logo-img {\r\n      width: var(--logoSize);\r\n      transform: rotateY(180deg);\r\n      border: 1px solid #343434;\r\n      border-radius: 50%;\r\n      cursor: pointer;\r\n      background-color: #fff;\r\n    }\r\n\r\n    .manuscript-logo-text {\r\n      text-decoration: underline;\r\n      font-weight: bolder;\r\n      transition: all .3s ease-in-out;\r\n      cursor: pointer;\r\n      margin-left: 8px;\r\n    }\r\n\r\n    .manuscript-logo-text:hover {\r\n      color: rgb(3, 145, 98);\r\n    }\r\n\r\n    .page-title-box {\r\n      margin-left: 16px;\r\n      font-size: 16px;\r\n      font-weight: bolder;\r\n    }\r\n  </style>\r\n  <div class="page-header-box">\r\n    <div class="manuscript-logo-box">\r\n      <img\r\n        id="manuscript-logo-img"\r\n        class="manuscript-logo-img"\r\n        src="/assets/images/writing.a59d3288.png"\r\n        alt="tigercheng manuscript logo"\r\n      />\r\n      <div\r\n        id="manuscript-logo-text"\r\n        class="manuscript-logo-text"\r\n      >JavaScript Manuscript</div>\r\n    </div>\r\n    <div class="page-title-box">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>'),customElements.define("page-header",e),window.addEventListener("load",(function(){const e=document.getElementById("resultText"),t=document.getElementById("sourceText");document.getElementById("formatButton").addEventListener("click",(()=>{const r=t.value;let o="";try{o=JSON.parse(r)}catch(n){if(console.error(n),n.message.match(/position (\d*)/g),0===RegExp.$1||RegExp.$1){const r=t.value[RegExp.$1],o=t.value.split("");o.splice(RegExp.$1,1,`<span style="color: red;">${r}</span>`),e.innerHTML=`<span style="color: red;">${n.message}</span>\n${o.join("")}`}else e.innerHTML=`<span style="color: red;">${n.message}</span>`;return}e.innerHTML=n({data:JSON.parse(r),tabChars:"  ",toHTML:!0})})),document.getElementById("copyButton").addEventListener("click",(()=>{const e=t.value;e?navigator.clipboard.writeText(n({data:JSON.parse(e),tabChars:"  "})).then((()=>{console.log("复制成功"),window.alert("复制成功")}),(()=>{console.log("复制失败"),window.alert("复制失败")})):window.alert("请输入需格式化的源字符串")}))}))}();