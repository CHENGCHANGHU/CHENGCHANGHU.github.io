!function(){"use strict";class e extends HTMLElement{#e=null;#n=null;#t=null;constructor(){super(),this.#e=this.attachShadow({mode:"closed"}),this.#e.appendChild(document.getElementById("page-header").content.cloneNode(!0)),this.#n=this.#e.querySelector("#manuscript-logo-img"),this.#t=this.#e.querySelector("#manuscript-logo-text")}connectedCallback(){this.#n.addEventListener("click",this.#o),this.#t.addEventListener("click",this.#o)}#o(){this.dispatchEvent(new CustomEvent("click-logo",{bubbles:!1,cancelable:!1,composed:!0,detail:{data:new Date}}))}#a(){const e=window.location.href;console.log(e),/manuscript/.test(e)?window.location.assign("/manuscript"):window.location.assign("/")}}function n({data:e,tabChars:t="\t",tabNumber:o=0,toHTML:a=!1}={data:"",tabChars:"\t",tabNumber:0,toHTML:!1}){const r=new Array(o).fill(t).join("");switch(Object.prototype.toString.call(e)){case"[object Undefined]":return a?'<span style="color: #0000aa;">undefined</span>':"undefined";case"[object Null]":return a?'<span style="color: #0000aa;">null</span>':"null";case"[object String]":return a?`<span style="color: #aaaa00;">"${e.toString()}"</span>`:`"${e.toString()}"`;case"[object Number]":case"[object Boolean]":return a?`<span style="color: #0000aa;">${e.toString()}</span>`:e.toString();case"[object Array]":return e.length?`[\n${r}${t}${e.map((e=>n({data:e,tabChars:t,tabNumber:o+1,toHTML:a}))).join(`,\n${r}${t}`)}\n${r}]`:"[]";case"[object Object]":return Object.keys(e).length?`{\n${r}${t}${Object.keys(e).map((r=>`"${r}":${t}${n({data:e[r],tabChars:t,tabNumber:o+1,toHTML:a})}`)).join(`,\n${r}${t}`)}\n${r}}`:"{}";default:return console.log(Object.prototype.toString.call(e)),e}}document.getElementById("page-header")||(document.body.innerHTML+='<template id="page-header">\n  <style>\n    .page-header-box {\n      --logoSize: 36px;\n\n      position: fixed;\n      width: 100vw;\n      height: 48px;\n      top: 0;\n      display: flex;\n      flex-flow: row nowrap;\n      align-items: center;\n      padding: 0 8px;\n      font-size: 12px;\n      box-sizing: border-box;\n      z-index: 9999;\n      background-color: #32343d;\n      box-sizing: border-box;\n      box-shadow: 0px 2px 5px 3px rgba(0, 0, 0, 0.2);\n      color: #ffffff;\n    }\n\n    .manuscript-logo-box {\n      display: flex;\n      flex-flow: row nowrap;\n      align-items: center;\n    }\n\n    .manuscript-logo-img {\n      width: var(--logoSize);\n      transform: rotateY(180deg);\n      border: 1px solid #343434;\n      border-radius: 50%;\n      cursor: pointer;\n      background-color: #fff;\n    }\n\n    .manuscript-logo-text {\n      text-decoration: underline;\n      font-weight: bolder;\n      transition: all .3s ease-in-out;\n      cursor: pointer;\n      margin-left: 8px;\n    }\n\n    .manuscript-logo-text:hover {\n      color: rgb(3, 145, 98);\n    }\n\n    .page-title-box {\n      margin-left: 16px;\n      font-size: 16px;\n      font-weight: bolder;\n    }\n  </style>\n  <div class="page-header-box">\n    <div class="manuscript-logo-box">\n      <img\n        id="manuscript-logo-img"\n        class="manuscript-logo-img"\n        src="/assets/images/writing.a59d3288.png"\n        alt="tigercheng manuscript logo"\n      />\n      <div\n        id="manuscript-logo-text"\n        class="manuscript-logo-text"\n      >JavaScript Manuscript</div>\n    </div>\n    <div class="page-title-box">\n      <slot></slot>\n    </div>\n  </div>\n</template>'),customElements.define("page-header",e),window.addEventListener("load",(function(){const e=document.getElementById("resultText"),t=document.getElementById("sourceText");document.getElementById("formatButton").addEventListener("click",(()=>{const o=t.value;let a="";try{a=JSON.parse(o)}catch(n){if(console.error(n),n.message.match(/position (\d*)/g),0===RegExp.$1||RegExp.$1){const o=t.value[RegExp.$1],a=t.value.split("");a.splice(RegExp.$1,1,`<span style="color: red;">${o}</span>`),e.innerHTML=`<span style="color: red;">${n.message}</span>\n${a.join("")}`}else e.innerHTML=`<span style="color: red;">${n.message}</span>`;return}e.innerHTML=n({data:JSON.parse(o),tabChars:"  ",toHTML:!0})})),document.getElementById("copyButton").addEventListener("click",(()=>{const e=t.value;e?navigator.clipboard.writeText(n({data:JSON.parse(e),tabChars:"  "})).then((()=>{console.log("复制成功"),window.alert("复制成功")}),(()=>{console.log("复制失败"),window.alert("复制失败")})):window.alert("请输入需格式化的源字符串")}))}))}();