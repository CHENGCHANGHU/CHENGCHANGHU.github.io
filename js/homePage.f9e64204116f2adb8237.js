!function(){"use strict";!function(){class e extends HTMLElement{#e=null;#t=null;#n=null;constructor(){super(),this.#e=this.attachShadow({mode:"closed"}),this.#e.appendChild(document.getElementById("page-header").content.cloneNode(!0)),this.#t=this.#e.querySelector("#manuscript-logo-img"),this.#n=this.#e.querySelector("#manuscript-logo-text")}connectedCallback(){this.#t.addEventListener("click",this.#o),this.#n.addEventListener("click",this.#o)}#o(){this.dispatchEvent(new CustomEvent("click-logo",{bubbles:!1,cancelable:!1,composed:!0,detail:{data:new Date}}))}#r(){const e=window.location.href;console.log(e),/manuscript/.test(e)?window.location.assign("/manuscript"):window.location.assign("/")}}document.getElementById("page-header")||(document.body.innerHTML+='<template id="page-header">\n  <style>\n    .page-header-box {\n      --logoSize: 36px;\n\n      position: fixed;\n      width: 100vw;\n      height: 48px;\n      top: 0;\n      display: flex;\n      flex-flow: row nowrap;\n      align-items: center;\n      padding: 0 8px;\n      font-size: 12px;\n      box-sizing: border-box;\n      z-index: 9999;\n      background-color: #32343d;\n      box-sizing: border-box;\n      box-shadow: 0px 2px 5px 3px rgba(0, 0, 0, 0.2);\n      color: #ffffff;\n    }\n\n    .manuscript-logo-box {\n      display: flex;\n      flex-flow: row nowrap;\n      align-items: center;\n    }\n\n    .manuscript-logo-img {\n      width: var(--logoSize);\n      transform: rotateY(180deg);\n      border: 1px solid #343434;\n      border-radius: 50%;\n      cursor: pointer;\n      background-color: #fff;\n    }\n\n    .manuscript-logo-text {\n      text-decoration: underline;\n      font-weight: bolder;\n      transition: all .3s ease-in-out;\n      cursor: pointer;\n      margin-left: 8px;\n    }\n\n    .manuscript-logo-text:hover {\n      color: rgb(3, 145, 98);\n    }\n\n    .page-title-box {\n      margin-left: 16px;\n      font-size: 16px;\n      font-weight: bolder;\n    }\n  </style>\n  <div class="page-header-box">\n    <div class="manuscript-logo-box">\n      <img\n        id="manuscript-logo-img"\n        class="manuscript-logo-img"\n        src="/assets/images/writing.a59d3288.png"\n        alt="tigercheng manuscript logo"\n      />\n      <div\n        id="manuscript-logo-text"\n        class="manuscript-logo-text"\n      >JavaScript Manuscript</div>\n    </div>\n    <div class="page-title-box">\n      <slot></slot>\n    </div>\n  </div>\n</template>'),customElements.define("page-header",e);var t=JSON.parse('{"L":[{"loom":true,"name":"Markdown在线编辑器","href":"/markdown-editor"},{"loom":true,"name":"在线信息摘要（Online Message Digest）","href":"/message-digest"},{"loom":true,"name":"JSON字符串格式化","href":"/format-json-string"},{"loom":true,"name":"数据结构","href":"/note-data-structure"}]}');function n(e){if(!e)return;if(e instanceof HTMLElement)return e;if(Array.isArray(e))return e.map((e=>n(e)));const{tag:t,text:o,html:r,children:a,attributes:i,events:s}=e;if(!t)return document.createElement("template");let l=null;return l=["svg","path"].includes(t)?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t),r&&(l.innerHTML=r),(o||0===o||""===o)&&(l.innerText=o),i&&Object.keys(i).forEach((e=>{"classes"===e&&Array.isArray(i[e])?l.className=i[e].join(" "):l.setAttribute("classes"===e?"class":e,i[e])})),s&&Object.keys(s).forEach((t=>{l.addEventListener(t,s[t].bind(e))})),a&&l.append(...a.filter(Boolean).map(n)),l}function o(e){const t=new Map;if(!t.has(e)){const n=document.getElementById(e);if(!n)return null;t.set(e,n)}return t.get(e)}window.addEventListener("load",(function(){let e=null;const r=localStorage.getItem("current-manuscript");o("menu-box").append(...t.L.filter((e=>e.loom)).map((e=>n({tag:"a",text:e.name,attributes:{href:e.href,classes:["list-item-box"],title:e.name}})))),o("manuscript-page-header").addEventListener("click-logo",(async t=>{if(e)return await e.reverse(),void(e=null);const{clientWidth:n}=document.documentElement;let r=null;r=n>1099?{transform:"translateX(-100%)","min-width":"0",width:"0",padding:"16px 0"}:{transform:"translateY(-100%)",height:"0",padding:"0 4px"},e=o("side-bar-box").animate([r],{duration:300,fill:"forwards",easing:"ease-in-out"})})),o("menu-box").addEventListener("click",(e=>{const{target:t}=e;"A"===t.tagName&&(o("content-iframe").setAttribute("src",t.getAttribute("href")),o("manuscript-page-header").innerText=t.innerText,localStorage.setItem("current-manuscript",t.getAttribute("href")),e.preventDefault())}));try{document.querySelector(`a[href="${r}"]`).click()}catch(e){document.querySelector(`a[href="${t.L[0].href}"]`).click()}window.addEventListener("resize",(async t=>{if(e)return await e.reverse(),void(e=null)}))}))}()}();